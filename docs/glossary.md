# 用語集 (Glossary)

Seras学院生徒ポータルで使用される用語の定義です。

## ユーザー・ロール

| 用語 | 英語 | 説明 |
| :--- | :--- | :--- |
| **生徒** | Student | 塾に通う学習者。LINE認証でアクセス |
| **講師** | Teacher | 授業を担当するスタッフ。ダッシュボード閲覧可能 |
| **教室長** | Principal | 教室の管理者。開館/閉館操作や全機能へのアクセス権限を持つ |
| **ゲスト** | Guest | 未ログインまたは認識できないユーザー |

## ステータス（生徒マスター）

| 値 | 説明 |
| :--- | :--- |
| `在塾` | 現在通塾中の生徒 |
| `在塾(講師)` | 講師として登録されているユーザー |
| `教室長` | 教室長として登録されているユーザー |
| `退塾` | 退塾済みの生徒（システムからは非表示） |

## 学年

| 値 | 説明 | 受験生区分 |
| :--- | :--- | :---: |
| `中1` ~ `中3` | 中学1年～3年 | 中3は受験生 |
| `高1` ~ `高3` | 高校1年～3年 | 高3は受験生 |
| `既卒` | 高校卒業後の浪人生 | 受験生 |
| `講師` | 講師（内部的な区分） | - |

**受験生**: 高3 または 既卒の生徒。週間ランキングで別グループとして集計される。

## バッジ (Badges)

週間ランキングで付与される称号。受験生部門と非受験生部門で別々に集計。

| 技術名 | 日本語名 | 条件 |
| :--- | :--- | :--- |
| `HEAVY_USER` | トップランカー | 総学習時間が上位 |
| `EARLY_BIRD` | 早起きマスター | 4:00〜9:00 の学習時間30分以上 |
| `NIGHT_OWL` | 深夜マスター | 20:00〜24:00 の学習時間60分以上 |
| `CONSISTENT` | 皆勤賞候補 | 通塾日数3日以上 |
| `MARATHON` | 長時間マスター | 1回あたりの平均滞在時間が長い |
| `RISING_STAR` | 急上昇 | 前週比で学習時間が2時間以上増加 |

## 機能・画面

| 用語 | 説明 |
| :--- | :--- |
| **混雑状況 (Occupancy)** | 本館・2号館の現在の在室人数と開館状態を表示する画面 |
| **ダッシュボード (Dashboard)** | 講師・教室長向けの統計・分析画面 |
| **ランキング (Ranking)** | 学習時間や通塾日数による生徒の順位表示 |
| **週間チャンピオン (Weekly Champions)** | 直近7日間の各バッジ獲得者を表示するカード |
| **ヒートマップ (Heatmap)** | GitHub草グラフ風の通塾状況可視化 |
| **ストリーク (Streak)** | 連続通塾日数 |

## 技術用語

| 用語 | 説明 |
| :--- | :--- |
| **LIFF** | LINE Front-end Framework。LINE内ブラウザでWebアプリを動作させる仕組み |
| **LINE User ID** | LINEユーザーを識別する一意のID。`x-line-user-id` ヘッダーで送信 |
| **JST** | 日本標準時 (UTC+9)。本システムの全日付処理はJST基準 |
| **NextAuth** | Next.js用の認証ライブラリ。本システムではGoogle OAuthに使用 |

## データ処理

| 用語 | 説明 |
| :--- | :--- |
| **滞在時間** | 退室時刻 - 入室時刻。退室忘れ時は4時間または22:00で打ち切り |
| **通塾日数** | 期間内に来塾したユニークな日数 |
| **オーバーラップマージ** | 重複する入退室ログを統合して正確な滞在時間を計算する処理 |
| **時間帯クリッピング** | 指定時間帯（朝4-9時、夜20-24時）に切り取って計算する処理 |

## 建物

| 用語 | 説明 |
| :--- | :--- |
| **本館** | メインの自習室（building1） |
| **2号館** | サブの自習室（building2） |

## APIレスポンス形式

本システムのAPIは統一されたレスポンス形式を使用します。

```typescript
// 成功時
{ status: 'ok', data: T }

// エラー時
{ status: 'error', error: string }
```
