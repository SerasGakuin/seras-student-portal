# 変更履歴 (Changelog)

本プロジェクトの主な変更履歴を記録しています。

## [Unreleased]

### ドキュメント
- 認証・権限システムのドキュメント統合と日本語化
- テストガイドの統合と実装パターンの充実化
- バッジシステム仕様の詳細化（時間帯クリッピング、オーバーラップマージ）

---

## 主な変更履歴

### バッジ・ランキング機能

- **バッジ計算ロジックの改善** (`7eb22e9`)
  - EARLY_BIRD: 4:00以前に入室しても4:00-9:00の滞在時間のみカウント
  - morningDuration / nightDuration のオーバーラップマージ対応
- **非受験生用シルバーバッジ** (`5f15092`)
  - 受験生: ゴールド風スタイリング
  - 非受験生: シルバー風スタイリング
- **ダッシュボード非受験生フィルター** (`e4a48d7`)
- **週間チャンピオン機能のリデザイン**
  - タブ切り替え（受験生/非受験生部門） (`300b0d5`, `1f0147e`)
  - バッジ凡例セクション追加 (`fd96121`)
- **週間ランキング・バッジシステム** (`4def638`)
  - HEAVY_USER, EARLY_BIRD, NIGHT_OWL, CONSISTENT, MARATHON, RISING_STAR

### ダッシュボード

- **モバイルダッシュボード強化** (`7055230`)
  - ランキング表示のリデザイン
  - 重複する滞在時間の計算修正
- **講師用ダッシュボード** (`57b1a99`)
  - KPIカード、累積グラフ、ランキング表示
  - 生徒詳細ビュー（ヒートマップ、時間帯グラフ）
- **Google Docs/Sheets リンク追加** (`d10e7c8`)
- **ローディング状態のUX改善** (`c02a24b`)

### 認証・権限

- **Google OAuth 認証** (`4b370ce`)
  - PCブラウザからのダッシュボードアクセス対応
- **権限管理の集中化** (`ebaca44`)
  - CONFIG.PERMISSIONS による一元管理

### 日付・時刻処理

- **日付処理のJST統一** (`e9af620`, `1720add`, `b0120bd`)
  - UTCサーバーでの日付ズレを防止
- **EARLY_BIRD 深夜時間帯の除外** (`32dc988`)
  - 00:00-03:59 をカウント対象外に

### データ処理

- **滞在時間計算のオーバーラップ対応** (`591b576`, `c31f016`)
- **Repository Pattern の導入** (`631fcc1`)
- **生徒名の正規化処理** (`04be75b`, `57f0084`)
- **Entry/Exit Log シートへの移行** (`860b40c`)

### UI/UX

- **MyStatsCard のリデザイン** (`eb0d703`)
- **コントラスト改善** (`f654028`)
- **UX監査の反映** (`89636cb`)

### 自動化

- **開館リマインダー Cron** (`2bfa4a5`)
- **自動閉館 Cron ジョブ** (`02ea920`)

### テスト

- **ユニット/統合テストの追加** (`602756c`)

---

## 凡例

コミットハッシュは先頭7文字を記載しています。`git show <hash>` で詳細を確認できます。
